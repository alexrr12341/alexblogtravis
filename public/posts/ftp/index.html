<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Alejandro Rodríguez"><meta name=description content=https://www.alexrrinformatico.com><meta name=keywords content=blog,developer,personal><meta property=og:site_name content=Alexblog><meta property=og:title content="Creación de un Hosting Simple por FTP - Alexblog"><meta property=og:description content><meta property=og:type content=website><meta property=og:url content=https://www.alexrrinformatico.com/posts/ftp/><meta property=og:image content=https://www.alexrrinformatico.com><meta name=twitter:card content=summary><meta name=twitter:site content=https://www.alexrrinformatico.com/posts/ftp/><meta name=twitter:image content=https://www.alexrrinformatico.com><base href=https://www.alexrrinformatico.com/posts/ftp/><title>Creación de un Hosting Simple por FTP - Alexblog</title><link rel=canonical href=https://www.alexrrinformatico.com/posts/ftp/><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.2.0/css/all.css integrity=sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700"><link rel=stylesheet href=https://www.alexrrinformatico.com/css/normalize.min.css><link rel=stylesheet href=https://www.alexrrinformatico.com/css/style.min.css><link rel=icon type=image/png href=https://www.alexrrinformatico.com/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://www.alexrrinformatico.com/images/favicon-16x16.png sizes=16x16><link rel=alternate href=https://www.alexrrinformatico.com/index.xml type=application/rss+xml title=Alexblog><link href=https://www.alexrrinformatico.com/index.xml rel=feed type=application/rss+xml title=Alexblog><meta name=generator content="Hugo 0.57.2"></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Alexblog</a>
<input type=checkbox id=menu-control>
<label class="menu-mobile  float-right" for=menu-control><span class="btn-mobile  float-right">&#9776;</span><ul class=navigation-list><li class="navigation-item  align-center"><a class=navigation-link href=https://www.alexrrinformatico.com/sobre>Sobre mi</a></li><li class="navigation-item  align-center"><a class=navigation-link href=https://www.alexrrinformatico.com/posts>Blog</a></li><li class="navigation-item  align-center"><a class=navigation-link href=https://www.alexrrinformatico.com/contactar>Contactame</a></li></ul></label></section></nav><div class=content><section class="container post"><article><header><h1 class=title>Creación de un Hosting Simple por FTP</h1><h2 class=date>January 15, 2020</h2><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$']],displayMath:[['$$','$$']],processEscapes:true,processEnvironments:true,skipTags:['script','noscript','style','textarea','pre'],TeX:{extensions:["AMSmath.js","AMSsymbols.js"]}}});MathJax.Hub.Queue(function(){var all=MathJax.Hub.getAllJax(),i;for(i=0;i<all.length;i+=1){all[i].SourceElement().parentNode.className+=' has-jax';}});</script></header><h2 id=instalación-de-hugo>Instalación de Hugo</h2><p>Primero creamos un virtual host para nuestra página web</p><div class=highlight><pre class=chroma>server {
        listen 80;
        server_name hosting.alejandro.gonzalonazareno.org;
        return 301 https://$server_name$request_uri;
}


server {
        listen 443 ssl;
	ssl_certificate /etc/nginx/cert/salmorejo.alejandro.gonzalonazareno.org.crt;
        ssl_certificate_key /etc/nginx/cert/salmorejo.alejandro.gonzalonazareno.org.key;
        root /var/www/hosting;

        index index.html index.htm index.nginx-debian.html index.php;

        server_name hosting.alejandro.gonzalonazareno.org;
        location / {
                try_files $uri $uri/ =404;
        }
	location ~ \.php$ {
		try_files $uri $uri/ =404;
		fastcgi_pass 127.0.0.1:9000;
		fastcgi_index index.php;
		fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
		include fastcgi_params;
	}
	if (!-e $request_filename)
	{
	    rewrite ^(.+)$ /index.php?q=$1 last;
	}
}</pre></div><p>Y creamos un registro dns en croqueta</p><div class=highlight><pre class=chroma>hosting IN CNAME salmorejo</pre></div><p>La página web contendrá lo siguiente-&gt;</p><p>index.html</p><div class=highlight><pre class=chroma>&lt;html&gt;
&lt;center&gt;&lt;img src=&#34;./fotos/alejandrohosting.jpg&#34;&gt;&lt;/img&gt;
&lt;h1&gt;Bienvenido a Alejandro Hosting&lt;/h1&gt;&lt;/center&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;h4&gt;Elige crear o borrar un usuario&lt;/h4&gt;
&lt;form action=&#34;creacion.php&#34; name=&#34;form&#34; method=&#34;POST&#34;&gt;
  &lt;table cellspacing=&#34;10&#34;&gt;
	&lt;tr&gt;&lt;td&gt;Usuario&lt;/td&gt;&lt;td&gt;&lt;input type=&#34;text&#34; name=&#34;user&#34; size=&#34;40&#34;&gt;&lt;/td&gt;&lt;/tr&gt;
	&lt;tr&gt;&lt;td&gt;Pagina&lt;/td&gt;&lt;td&gt;&lt;input type=&#34;text&#34; name=&#34;pagina&#34; size=&#34;40&#34;&gt;&lt;/td&gt;&lt;/tr&gt;
     &lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;&lt;input type=&#34;submit&#34; name=&#34;sub&#34; value=&#34;Crear&#34;&gt;&lt;/td&gt;&lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;
&lt;form action=&#34;borrado.php&#34; name=&#34;form&#34; method=&#34;POST&#34;&gt;
  &lt;table cellspacing=&#34;10&#34;&gt;
    &lt;tr&gt;&lt;td&gt;Usuario&lt;/td&gt;&lt;td&gt;&lt;input type=&#34;text&#34; name=&#34;user&#34; size=&#34;40&#34;&gt;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt;&lt;input type=&#34;submit&#34; name=&#34;sub&#34; value=&#34;Borrar&#34;&gt;&lt;/td&gt;&lt;/tr&gt;
  &lt;/table&gt;
&lt;/form&gt;

&lt;/html&gt;</pre></div><p>creacion.php:</p><div class=highlight><pre class=chroma>&lt;center&gt;&lt;img src=&#34;./fotos/alejandrohosting.jpg&#34;&gt;&lt;/img&gt;&lt;/center&gt;
&lt;center&gt;&lt;h1&gt;Bienvenido a Alejandro Hosting&lt;/h1&gt;&lt;/center&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;?php
	$user=$_POST[&#39;user&#39;];
	$pagina=$_POST[&#39;pagina&#39;];
	exec(&#34;sudo sh ./scriptcreacion.sh $user $pagina&#34;,$output);
	foreach($output as $document) {
     		$document = json_decode(json_encode($document),true);
     		print_r($document);
     		echo &#34;&lt;br/&gt;&#34;;
	}
?&gt;</pre></div><p>borrado.php</p><div class=highlight><pre class=chroma>&lt;center&gt;&lt;img src=&#34;./fotos/alejandrohosting.jpg&#34;&gt;&lt;/img&gt;&lt;/center&gt;
&lt;center&gt;&lt;h1&gt;Bienvenido a Alejandro Hosting&lt;/h1&gt;&lt;/center&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;?php
	$user=$_POST[&#39;user&#39;];
	exec(&#34;sudo sh ./scriptborrado.sh $user&#34;,$output);
	foreach($output as $document) {
     		$document = json_decode(json_encode($document),true);
     		print_r($document);
     		echo &#34;&lt;br/&gt;&#34;;
	}

?&gt;</pre></div><p><img src=/images/paginahosting.png alt></p><p>Vamos ahora a comprobar la función de creación de usuarios, vamos a crear un usuario llamado ejemplo y pagina ejemplito
<img src=/images/ejemplohosting.png alt>
<img src=/images/ejemplohosting2.png alt></p><p>Vamos a ver si realmente funciona, vamos a añadirle un index.html mediante ftp</p><div class=highlight><pre class=chroma>&lt;html&gt;
&lt;h1&gt;Esto es una prueba&lt;/h1&gt;
&lt;/html&gt;</pre></div><p>Nos conectamos a ftp</p><div class=highlight><pre class=chroma>ftp&gt; open ftp.alejandro.gonzalonazareno.org
Connected to ftp.alejandro.gonzalonazareno.org.
220 FTP Server ready.
Name (ftp.alejandro.gonzalonazareno.org:alexrr): user_ejemplo
331 Password required for user_ejemplo
Password:
230 User user_ejemplo logged in
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt;
ftp&gt; put index.html 
local: index.html remote: index.html
200 PORT command successful
150 Opening BINARY mode data connection for index.html
226 Transfer complete
43 bytes sent in 0.00 secs (461.4526 kB/s)</pre></div><p>Vamos a entrar a la página
<img src=/images/ejemplitopagina.png alt></p><p>Vamos a ver si funciona también el mysql
<img src=/images/ejemplopaginamysql.png alt></p></article><br><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"yourdiscussshortname"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div><footer class=footer><section class=container><div class="sns-shares sp-sns-shares"><a class="fb btn sns-share fb-share" href="http://www.facebook.com/share.php?u=https%3a%2f%2fwww.alexrrinformatico.com%2fposts%2fftp%2f" onclick="window.open(this.href,'FBwindow','width=650, height=450, menubar=no, toolbar=no, scrollbars=yes');return false;"><i class="fab fa-facebook-f"></i></a><a class="sns-share linkedIn-share" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fwww.alexrrinformatico.com%2fposts%2fftp%2f"><i class="fab fa-linkedin"></i></a></div><p>Enter a text here.</p>© 2020 · Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/naro143/hugo-coder-portfolio>CoderPortfolio</a>.</section></footer><div class=fixed-bar><section class=container><p id=privateTriggerText>¿Quieres conocerme mejor?→<a id=privateTrigger>Click!</a></p><div class="sns-shares pc-sns-shares"><a class="fb btn sns-share fb-share" href="http://www.facebook.com/share.php?u=https%3a%2f%2fwww.alexrrinformatico.com%2fposts%2fftp%2f" onclick="window.open(this.href,'FBwindow','width=650, height=450, menubar=no, toolbar=no, scrollbars=yes');return false;"><i class="fab fa-facebook-f"></i></a><a class="sns-share linkedIn-share" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fwww.alexrrinformatico.com%2fposts%2fftp%2f"><i class="fab fa-linkedin"></i></a></div></section></div></main><script src=https://www.alexrrinformatico.com/js/app.js></script><script>(function($){$(function(){$('#privateTrigger').on('click',function(){$('.private').slideToggle();$('#privateTriggerText').text("Dale click a los enlaces de la derecha→");});});})(jQuery);</script></body></html>