<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Alejandro Rodríguez">
    <meta name="description" content="https://www.alexrrinformatico.com">
    <meta name="keywords" content="blog,developer,personal">

    <meta property="og:site_name" content="Alexrrblog">
    <meta property="og:title" content="
  iSCSI - Alexrrblog
">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.alexrrinformatico.com/posts/iscsi/">
    <meta property="og:image" content="https://www.alexrrinformatico.com">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="https://www.alexrrinformatico.com/posts/iscsi/">
    <meta name="twitter:image" content="https://www.alexrrinformatico.com">

    <base href="https://www.alexrrinformatico.com/posts/iscsi/">
    <title>
  iSCSI - Alexrrblog
</title>

    <link rel="canonical" href="https://www.alexrrinformatico.com/posts/iscsi/">
    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    
    <link  rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700">
    <link rel="stylesheet" href="https://www.alexrrinformatico.com/css/normalize.min.css">
    <link rel="stylesheet" href="https://www.alexrrinformatico.com/css/style.min.css">

    

    

    <link rel="icon" type="image/png" href="https://www.alexrrinformatico.com/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://www.alexrrinformatico.com/images/favicon-16x16.png" sizes="16x16">

    
      <link rel="alternate" href="https://www.alexrrinformatico.com/index.xml" type="application/rss+xml" title="Alexrrblog">
      <link href="https://www.alexrrinformatico.com/index.xml" rel="feed" type="application/rss+xml" title="Alexrrblog" />
    

    <meta name="generator" content="Hugo 0.69.2" />
  </head>

  <body class="">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">Alexrrblog</a>
    <input type="checkbox" id="menu-control"/>
    <label class="menu-mobile  float-right " for="menu-control">
      <span class="btn-mobile  float-right ">&#9776;</span>
      <ul class="navigation-list">
        
          
            <li class="navigation-item  align-center ">
              <a class="navigation-link" href="https://www.alexrrinformatico.com/sobre">Sobre mi</a>
            </li>
          
            <li class="navigation-item  align-center ">
              <a class="navigation-link" href="https://www.alexrrinformatico.com/posts">Blog</a>
            </li>
          
            <li class="navigation-item  align-center ">
              <a class="navigation-link" href="https://www.alexrrinformatico.com/contactar">Contactame</a>
            </li>
          
        
        
      </ul>
    </label>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
  <article>
    <header>
      <h1 class="title">iSCSI</h1>
      <h2 class="date">February 2, 2020</h2>

      
        <script type="text/javascript" async
          src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
          MathJax.Hub.Config({
            tex2jax: {
              inlineMath: [['$','$']],
              displayMath: [['$$','$$']],
              processEscapes: true,
              processEnvironments: true,
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
              TeX: { extensions: ["AMSmath.js", "AMSsymbols.js"] }
            }
          });
          MathJax.Hub.Queue(function() {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for(i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
          });
          </script>
      
    </header>

    <p>Primero de todo, para trabajar con iSCSI debemos hacer un escenario vagrant, que contendrá un cliente Linux y un servidor que proporcionará los targets.</p>
<p>El escenario vagrant será el siguiente:</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="no">Vagrant</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="s2">&#34;2&#34;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">define</span> <span class="ss">:iscsi</span> <span class="k">do</span> <span class="o">|</span><span class="n">iscsi</span><span class="o">|</span>
    <span class="n">disco</span> <span class="o">=</span> <span class="s1">&#39;.vagrant/discoiscsi1.vdi&#39;</span>
    <span class="n">disco2</span> <span class="o">=</span> <span class="s1">&#39;.vagrant/discoiscsi2.vdi&#39;</span>
    <span class="n">disco3</span> <span class="o">=</span> <span class="s1">&#39;.vagrant/discoiscsi3.vdi&#39;</span>
    <span class="n">disco4</span> <span class="o">=</span> <span class="s1">&#39;.vagrant/discoiscsi4.vdi&#39;</span>
    <span class="n">iscsi</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="s2">&#34;debian/buster64&#34;</span>
    <span class="n">iscsi</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="s2">&#34;EscenarioRaid&#34;</span>
    <span class="n">iscsi</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">network</span> <span class="ss">:public_network</span><span class="p">,</span><span class="ss">:bridge</span><span class="o">=&gt;</span> <span class="s2">&#34;wlp0s20f3&#34;</span>
    <span class="n">iscsi</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">provider</span> <span class="ss">:virtualbox</span> <span class="k">do</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span>
	<span class="k">if</span> <span class="ow">not</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">disco</span><span class="p">)</span>
                 <span class="n">v</span><span class="o">.</span><span class="n">customize</span> <span class="o">[</span><span class="s2">&#34;createhd&#34;</span><span class="p">,</span> <span class="s2">&#34;--filename&#34;</span><span class="p">,</span> <span class="n">disco</span><span class="p">,</span> <span class="s2">&#34;--size&#34;</span><span class="p">,</span> <span class="mi">1024</span><span class="o">]</span>
	<span class="k">end</span>
                 <span class="n">v</span><span class="o">.</span><span class="n">customize</span> <span class="o">[</span><span class="s2">&#34;storageattach&#34;</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">&#34;--storagectl&#34;</span><span class="p">,</span> <span class="s2">&#34;SATA Controller&#34;</span><span class="p">,</span>
                              <span class="s2">&#34;--port&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&#34;--device&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;--type&#34;</span><span class="p">,</span> <span class="s2">&#34;hdd&#34;</span><span class="p">,</span>
                              <span class="s2">&#34;--medium&#34;</span><span class="p">,</span> <span class="n">disco</span><span class="o">]</span>
     <span class="k">end</span>
     <span class="n">iscsi</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">provider</span> <span class="ss">:virtualbox</span> <span class="k">do</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span>
             <span class="k">if</span> <span class="ow">not</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">disco2</span><span class="p">)</span>
                 <span class="n">v</span><span class="o">.</span><span class="n">customize</span> <span class="o">[</span><span class="s2">&#34;createhd&#34;</span><span class="p">,</span> <span class="s2">&#34;--filename&#34;</span><span class="p">,</span> <span class="n">disco2</span><span class="p">,</span> <span class="s2">&#34;--size&#34;</span><span class="p">,</span> <span class="mi">1024</span><span class="o">]</span>
	     <span class="k">end</span>
                 <span class="n">v</span><span class="o">.</span><span class="n">customize</span> <span class="o">[</span><span class="s2">&#34;storageattach&#34;</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">&#34;--storagectl&#34;</span><span class="p">,</span> <span class="s2">&#34;SATA Controller&#34;</span><span class="p">,</span>
                              <span class="s2">&#34;--port&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&#34;--device&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;--type&#34;</span><span class="p">,</span> <span class="s2">&#34;hdd&#34;</span><span class="p">,</span>
                              <span class="s2">&#34;--medium&#34;</span><span class="p">,</span> <span class="n">disco2</span><span class="o">]</span>
     <span class="k">end</span>
     <span class="n">iscsi</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">provider</span> <span class="ss">:virtualbox</span> <span class="k">do</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span>
             <span class="k">if</span> <span class="ow">not</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">disco3</span><span class="p">)</span>
                 <span class="n">v</span><span class="o">.</span><span class="n">customize</span> <span class="o">[</span><span class="s2">&#34;createhd&#34;</span><span class="p">,</span> <span class="s2">&#34;--filename&#34;</span><span class="p">,</span> <span class="n">disco3</span><span class="p">,</span> <span class="s2">&#34;--size&#34;</span><span class="p">,</span> <span class="mi">1024</span><span class="o">]</span>
             <span class="k">end</span>
                 <span class="n">v</span><span class="o">.</span><span class="n">customize</span> <span class="o">[</span><span class="s2">&#34;storageattach&#34;</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">&#34;--storagectl&#34;</span><span class="p">,</span> <span class="s2">&#34;SATA Controller&#34;</span><span class="p">,</span>
                              <span class="s2">&#34;--port&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&#34;--device&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;--type&#34;</span><span class="p">,</span> <span class="s2">&#34;hdd&#34;</span><span class="p">,</span>
                              <span class="s2">&#34;--medium&#34;</span><span class="p">,</span> <span class="n">disco3</span><span class="o">]</span>
     <span class="k">end</span>
  <span class="k">end</span>
  <span class="n">config</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">define</span> <span class="ss">:cliente</span> <span class="k">do</span> <span class="o">|</span><span class="n">cliente</span><span class="o">|</span>
    <span class="n">cliente</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="s2">&#34;debian/buster64&#34;</span>
    <span class="n">cliente</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="s2">&#34;cliente&#34;</span>
    <span class="n">cliente</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">synced_folder</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;/vagrant&#39;</span>
    <span class="n">cliente</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">network</span> <span class="ss">:public_network</span><span class="p">,</span> <span class="ss">:bridge</span> <span class="o">=&gt;</span> <span class="s1">&#39;wlp0s20f3&#39;</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div><p>Después de entrar en la maquina iscsi, debemos instalar los paquetes necesarios para el funcionamiento de iscsi</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">apt install tgt lvm2
</code></pre></div><p>Ahora para que podamos trabajar, debemos crear un volumen del disco sdb por ejemplo.</p>
<p>Primero de todo creamos el volúmen físico.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">pvcreate /dev/sdb
</code></pre></div><p>Creamos ahora el grupo de volúmenes, que en este caso contendrá el volúmen creado anteriormente</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">vgcreate iscsi /dev/sdb
</code></pre></div><p>Y creamos ahora el volumen lógico de dicho grupo de volúmenes.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">lvcreate -L 950M -n logiscsi iscsi
</code></pre></div><p>Ahora queremos hacer que el target se detecte, por lo que vamos a /etc/tgt/targets.conf y ponemos:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">&lt;target iqn.2020-02.com:tgiscsi&gt;
        backing-store /dev/iscsi/logiscsi
&lt;/target&gt;
</code></pre></div><p>Reiniciamos el servicio y miramos si está hecho el target</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">systemctl restart tgt


root@EscenarioRaid:/home/vagrant# tgtadm --mode target --op show
Target 1: iqn.2020-02.com:tgiscsi
    System information:
        Driver: iscsi
        State: ready
    I_T nexus information:
    LUN information:
        LUN: 0
            Type: controller
            SCSI ID: IET     00010000
            SCSI SN: beaf10
            Size: 0 MB, Block size: 1
            Online: Yes
            Removable media: No
            Prevent removal: No
            Readonly: No
            SWP: No
            Thin-provisioning: No
            Backing store type: null
            Backing store path: None
            Backing store flags: 
        LUN: 1
            Type: disk
            SCSI ID: IET     00010001
            SCSI SN: beaf11
            Size: 998 MB, Block size: 512
            Online: Yes
            Removable media: No
            Prevent removal: No
            Readonly: No
            SWP: No
            Thin-provisioning: No
            Backing store type: rdwr
            Backing store path: /dev/iscsi/logiscsi
            Backing store flags: 
    Account information:
    ACL information:
        ALL
</code></pre></div><p>Ahora vamos a ir al cliente que hemos creado anteriormente y instalamos el cliente de iscsi</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">apt install open-iscsi
</code></pre></div><p>Para que el propio programa compruebe los dispositivos activos y que puedan acceder, debemos entrar a /etc/iscsi/iscsid.conf y realizar la siguiente configuración</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">iscsid.startup = automatic
</code></pre></div><p>Reiniciamos el servicio y buscamos los servicios disponibles dentro de la red</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">systemctl restart open-iscsi

root@cliente:/home/vagrant# iscsiadm -m discovery -t sendtargets -p 192.168.1.77
192.168.1.77:3260,1 iqn.2020-02.com:tgiscsi

</code></pre></div><p>Ahora debemos hacer un login con dicho target que nos ha mostrado por pantalla</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">iscsiadm -m node --targetname &#34;iqn.2020-02.com:tgiscsi&#34; -p &#34;192.168.1.77:3260&#34; --login

Logging in to [iface: default, target: iqn.2020-02.com:tgiscsi, portal: 192.168.1.77,3260] (multiple)
Login to [iface: default, target: iqn.2020-02.com:tgiscsi, portal: 192.168.1.77,3260] successful.
</code></pre></div><p>Al hacer login, podemos observar que el cliente tiene el disco del target</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">root@cliente:/home/vagrant# lsblk -f
NAME   FSTYPE LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINT
sda                                                                     
├─sda1 ext4         b9ffc3d1-86b2-4a2c-a8be-f2b2f4aa4cb5   16.4G     5% /
├─sda2                                                                  
└─sda5 swap         f8f6d279-1b63-4310-a668-cb468c9091d8                [SWAP]
sdb      
</code></pre></div><p>Podemos ahora hacer un formateo del disco para que podamos escribir en él</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">mkfs.ext4 /dev/sdb

mkdir /mnt/iscsi

mount /dev/sdb /mnt/iscsi

</code></pre></div><p>Y comprobamos si podemos escribir en dicho volúmen</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">root@cliente:/mnt/iscsi# echo &#34;Hola&#34; &gt; iscsi.txt

</code></pre></div><p>Si queremos ver si dicho fichero se ha creado bien, vamos a montar el login de iscsi en el servidor</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">root@EscenarioRaid:/mnt# mount /dev/iscsi/logiscsi iscsi/

root@EscenarioRaid:/mnt/iscsi# cat iscsi.txt 
Hola

</code></pre></div><p>Podemos comprobar que dicho fichero ha sido creado correctamente por el cliente de iscsi.</p>
<h2 id="automontaje">Automontaje</h2>
<p>Para hacer una unidad de systemd en el cliente de iscsi, primero debemos hacer que el login del cliente iscsi sea automático.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">iscsiadm -m node --targetname &#34;iqn.2020-02.com:tgiscsi&#34; -p &#34;192.168.1.77:3260&#34; -o update -n node.startup -v automatic
</code></pre></div><p>Y ahora vamos a crear el automontaje en /etc/systemd/system/mnt-iscsi.mount</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">[Unit]
Description=ISCSI
[Mount]
What=/dev/sdb
Where=/mnt/iscsi
Type=ext4
Options=_netdev
[Install]
WantedBy=multi-user.target
</code></pre></div><p>Recargamos el los daemons y hacemos un enable del montaje</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">systemctl daemon-reload
systemctl enable mnt-iscsi.mount
</code></pre></div><p>Reiniciamos y observamos si se ha automontado</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">root@cliente:/etc/systemd/system# reboot
root@cliente:/etc/systemd/system# Connection to 127.0.0.1 closed by remote host.
Connection to 127.0.0.1 closed.
vagrant@cliente:~$ sudo su
root@cliente:/etc/systemd/system# lsblk
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      8:0    0 19.8G  0 disk 
├─sda1   8:1    0 18.8G  0 part /
├─sda2   8:2    0    1K  0 part 
└─sda5   8:5    0 1021M  0 part [SWAP]
sdb      8:16   0  952M  0 disk /mnt/iscsi
root@cliente:/etc/systemd/system# cd
root@cliente:~# cd /mnt/iscsi/
root@cliente:/mnt/iscsi# ls
iscsi.txt  lost+found
</code></pre></div><h2 id="windows">Windows</h2>
<p>Para windows en este caso vamos a utilizar 2 Luns, que serán los dos discos restantes que hemos creado, sdc y sdd.</p>
<p>Creamos los dos volúmenes lógicos.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">root@EscenarioRaid:~# pvcreate /dev/sdc 
  Physical volume &#34;/dev/sdc&#34; successfully created.
root@EscenarioRaid:~# vgcreate windows1 /dev/sdc 
  Volume group &#34;windows1&#34; successfully created
root@EscenarioRaid:~# lvcreate -L 950M -n logwindows1 windows1
  Rounding up size to full physical extent 952.00 MiB
  Logical volume &#34;logwindows1&#34; created.


root@EscenarioRaid:~# pvcreate /dev/sdd 
  Physical volume &#34;/dev/sdd&#34; successfully created.
root@EscenarioRaid:~# vgcreate windows2 /dev/sdd
  Volume group &#34;windows2&#34; successfully created
root@EscenarioRaid:~# lvcreate -L 950M -n logwindows2 windows2
  Rounding up size to full physical extent 952.00 MiB
  Logical volume &#34;logwindows2&#34; created.
</code></pre></div><p>Ahora en /etc/tgt/targets.conf creamos los dos LUN, junto a la autentificación CHAP, que en windows tiene que tener un usuario y una contraseña entre 12 y 15 caracteres.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">&lt;target iqn.2020-02.com:tgwindows&gt;
        backing-store /dev/windows1/logwindows1
        backing-store /dev/windows2/logwindows2
        incominguser alexrr 123123123123123
&lt;/target&gt;

</code></pre></div><p>Reiniciamos el servicio y comprobamos que se haya creado</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">systemctl restart tgt


root@EscenarioRaid:~# tgtadm --mode target --op show
Target 2: iqn.2020-02.com:tgwindows
    System information:
        Driver: iscsi
        State: ready
    I_T nexus information:
    LUN information:
        LUN: 0
            Type: controller
            SCSI ID: IET     00020000
            SCSI SN: beaf20
            Size: 0 MB, Block size: 1
            Online: Yes
            Removable media: No
            Prevent removal: No
            Readonly: No
            SWP: No
            Thin-provisioning: No
            Backing store type: null
            Backing store path: None
            Backing store flags: 
        LUN: 1
            Type: disk
            SCSI ID: IET     00020001
            SCSI SN: beaf21
            Size: 998 MB, Block size: 512
            Online: Yes
            Removable media: No
            Prevent removal: No
            Readonly: No
            SWP: No
            Thin-provisioning: No
            Backing store type: rdwr
            Backing store path: /dev/windows1/logwindows1
            Backing store flags: 
        LUN: 2
            Type: disk
            SCSI ID: IET     00020002
            SCSI SN: beaf22
            Size: 998 MB, Block size: 512
            Online: Yes
            Removable media: No
            Prevent removal: No
            Readonly: No
            SWP: No
            Thin-provisioning: No
            Backing store type: rdwr
            Backing store path: /dev/windows2/logwindows2
            Backing store flags: 
    Account information:
        alexrr
    ACL information:
        ALL

</code></pre></div><p>Ahora nos dirigiremos al cliente de windows 10 y conectaremos el iscsi en él.</p>
<p>Vamos a Panel de control-&gt;Herramientas administrativas.
<img src="/images/iscsi.png" alt=""></p>
<p>Y vamos a iniciador iSCSI
<img src="/images/iscsi2.png" alt=""></p>
<p>Vamos al apartado Detección y le damos a detectar portal.
<img src="/images/iscsi3.png" alt=""></p>
<p>Ponemos nuestra ip del servidor y nos saldrá los targets en la pestaña Destinos.
<img src="/images/iscsi4.png" alt=""></p>
<p>Le damos a Conectar y vamos a las opciones avanzadas, y habilitamos el inicio de sesión CHAP donde ponemos la contraseña y el usuario que hemos puesto.
<img src="/images/iscsi5.png" alt=""></p>
<p>Aceptamos y el iscsi estará ya conectado a nuestro cliente windows.
<img src="/images/iscsi6.png" alt=""></p>
<p>Ahora vamos al administrador de discos y vemos que los discos están ahí</p>
<p><img src="/images/iscsi7.png" alt=""></p>
<p>Si queremos podemos formatearlos con NTFS para poder escribir en ellos.</p>
<p><img src="/images/iscsi8.png" alt=""></p>
<p>Y vamos a escribir algo en ellos para comprobar su funcionamiento.</p>
<p><img src="/images/iscsi9.png" alt=""></p>
<p><img src="/images/iscsi10.png" alt=""></p>

  </article>

  <br/>

  
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yourdiscussshortname" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  
  
</section>

      </div>
      
        <footer class="footer">
  <section class="container">
    
      <div class="sns-shares sp-sns-shares">
        
        
          <a class="fb btn sns-share fb-share" href="http://www.facebook.com/share.php?u=https%3a%2f%2fwww.alexrrinformatico.com%2fposts%2fiscsi%2f" onclick="window.open(this.href, 'FBwindow', 'width=650, height=450, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fab fa-facebook-f"></i></a>
        
        
        
        
          <a class="sns-share linkedIn-share" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fwww.alexrrinformatico.com%2fposts%2fiscsi%2f"><i class="fab fa-linkedin"></i></a>
        
      </div>
    
    
      <p>Enter a text here.</p>
    
     © 2020    ·  Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/naro143/hugo-coder-portfolio">CoderPortfolio</a>. 

  </section>
</footer>
<div class="fixed-bar">
  <section class="container">
    
      <p id="privateTriggerText">¿Quieres conocerme mejor?→<a id="privateTrigger">Click!</a></p>
    
    
      <div class="sns-shares pc-sns-shares">
        
        
          <a class="fb btn sns-share fb-share" href="http://www.facebook.com/share.php?u=https%3a%2f%2fwww.alexrrinformatico.com%2fposts%2fiscsi%2f" onclick="window.open(this.href, 'FBwindow', 'width=650, height=450, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fab fa-facebook-f"></i></a>
        
        
        
        
          <a class="sns-share linkedIn-share" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fwww.alexrrinformatico.com%2fposts%2fiscsi%2f"><i class="fab fa-linkedin"></i></a>
        
      </div>
    
  </section>
</div>

      
    </main>

    

  <script src="https://www.alexrrinformatico.com/js/app.js"></script>
  
  <script>
  (function($) {
    $(function() {
      $('#privateTrigger').on('click', function() {
        $('.private').slideToggle();
        $('#privateTriggerText').text("Dale click a los enlaces de la derecha→");
      });
    });
   })(jQuery);
  </script>
  
  </body>
</html>
